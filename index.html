<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Market News</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Marquee animation for the banner */
        .marquee {
            overflow: hidden;
            white-space: nowrap;
            width: 100%;
            display: inline-block;
        }
        .marquee-content {
            display: inline-block;
            animation: marquee 25s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        .marquee-content:hover {
            animation-play-state: paused;
        }
        /* Hero image styling */
        .hero-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            filter: brightness(0.8);
            display: block;
        }
        /* Gradient overlay for hero section */
        .hero-section {
            position: relative;
        }
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.7));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-top: 2rem;
        }
        /* News article images */
        .news-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }
        .news-image:hover {
            transform: scale(1.05);
        }
        /* Professional typography */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 50;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            padding: 2rem;
            position: relative;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            transition: color 0.2s ease;
        }
        .close-btn:hover {
            color: #000;
        }
        /* Smooth transitions for articles */
        article {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        article:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        /* Input field styles */
        input, select, textarea {
            transition: border-color 0.3s ease;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #2563eb;
            outline: none;
        }
        /* Button hover effects */
        button {
            transition: background-color 0.3s ease, transform 0.1s ease;
        }
        button:hover {
            transform: translateY(-2px);
        }
        /* Navigation bar styles */
        .nav-link {
            transition: color 0.2s ease;
        }
        .nav-link:hover {
            color: #2563eb;
        }
        /* Favorites icon animation */
        .favorite-btn {
            transition: color 0.2s ease, transform 0.2s ease;
        }
        .favorite-btn:hover {
            color: #dc2626;
            transform: scale(1.2);
        }
        .favorited {
            color: #dc2626;
        }
        /* Terms and Privacy sections */
        .terms-privacy-content {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 12px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 60;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-md py-4">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-900">Stock Market News</a>
            <div class="space-x-6">
                <a href="#news" class="nav-link text-gray-700 hover:text-blue-600">News</a>
                <a href="#favorites" id="favoritesTab" class="nav-link text-gray-700 hover:text-blue-600 hidden">Favorites</a>
                <button id="submitArticleBtn" class="nav-link text-gray-700 hover:text-blue-600 hidden">Submit Article</button>
                <button id="authBtn" class="text-gray-700 hover:text-blue-600" onclick="showModal()">Login / Sign Up</button>
                <button id="logoutBtn" class="text-gray-700 hover:text-blue-600 hidden" onclick="handleLogout()">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section with Houston Skyline -->
    <section class="hero-section">
        <img src="https://images.ctfassets.net/0b3xwatv10o9/3vJ5e5a2gG5o5v1p5c5v5v/5e5a2g5o5v1p5c5v5v5e5a2g/houston-skyline.jpg" alt="Houston Skyline" class="hero-image" loading="lazy">
        <div class="hero-overlay">
            <div id="userGreeting" class="hidden mb-4 text-xl font-semibold text-white"></div>
            <h1 class="text-5xl font-bold text-white tracking-tight">Stock Market News</h1>
        </div>
    </section>

    <!-- Moving Banner with Market Prices -->
    <div class="bg-gradient-to-r from-gray-800 to-gray-900 text-white py-3 overflow-hidden shadow-md">
        <div class="marquee">
            <div class="marquee-content flex space-x-10">
                <span>DOW: 40,589.34 (+1.64%) ▲</span>
                <span>S&P 500: 5,459.10 (+1.11%) ▲</span>
                <span>NASDAQ: 17,357.88 (+1.03%) ▲</span>
                <span>TSLA: $219.80 (+0.20%) ▲</span>
                <span>AAPL: $217.96 (+0.22%) ▲</span>
                <span>NVDA: $113.06 (+0.69%) ▲</span>
                <span>AMD: $139.99 (+1.21%) ▲</span>
                <span>Gold: $3,512.40 (+0.85%) ▲</span>
                <span>Oil: $77.16 (-1.96%) ▼</span>
            </div>
        </div>
    </div>

    <!-- Login/Sign-Up Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">×</span>
            <h2 class="text-2xl font-bold text-gray-900 mb-4">Join Stock Market News</h2>
            <p class="text-gray-600 mb-6">Sign up or log in to access exclusive content and personalized updates.</p>
            <div class="space-y-4">
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700">Name (Sign Up Only)</label>
                    <input type="text" id="name" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600" placeholder="Your Name">
                </div>
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                    <input type="email" id="email" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600" placeholder="your@email.com">
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                    <input type="password" id="password" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600" placeholder="••••••••">
                </div>
                <div class="flex space-x-4">
                    <button onclick="handleLogin()" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">Log In</button>
                    <button onclick="handleSignup()" class="w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900">Sign Up</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Article Submission Modal -->
    <div id="submitArticleModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeSubmitModal()">×</span>
            <h2 class="text-2xl font-bold text-gray-900 mb-4">Submit Your Article</h2>
            <form id="articleForm" class="space-y-4">
                <div>
                    <label for="articleTitle" class="block text-sm font-medium text-gray-700">Title</label>
                    <input type="text" id="articleTitle" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600" placeholder="Article Title" required>
                </div>
                <div>
                    <label for="articleContent" class="block text-sm font-medium text-gray-700">Content</label>
                    <textarea id="articleContent" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600" rows="4" placeholder="Article Content" required></textarea>
                </div>
                <div>
                    <label for="articleCategory" class="block text-sm font-medium text-gray-700">Category</label>
                    <select id="articleCategory" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600" required>
                        <option value="Tech">Tech</option>
                        <option value="Oil & Energy">Oil & Energy</option>
                        <option value="Markets">Markets</option>
                        <option value="Trending">Trending</option>
                    </select>
                </div>
                <div>
                    <label for="articleImage" class="block text-sm font-medium text-gray-700">Image (Optional)</label>
                    <input type="file" id="articleImage" class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg" accept="image/*">
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">Submit Article</button>
            </form>
        </div>
    </div>

    <!-- Terms and Privacy Sections -->
    <div id="termsContent" class="terms-privacy-content">
        <span class="close-btn" onclick="closeTerms()">×</span>
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Terms of Service</h2>
        <p class="text-gray-700">Welcome to Stock Market News. By accessing or using our website, you agree to comply with and be bound by the following terms and conditions. These terms govern your use of the site and any services provided.</p>
        <p class="text-gray-700 mt-4">1. <strong>Acceptance of Terms</strong>: By using this site, you accept these terms in full. If you disagree, please do not use the site.</p>
        <p class="text-gray-700 mt-2">2. <strong>User Conduct</strong>: You agree not to use the site for illegal or unauthorized purposes.</p>
        <p class="text-gray-700 mt-2">3. <strong>Content Ownership</strong>: All content on this site is owned by Stock Market News or its licensors unless otherwise stated.</p>
        <p class="text-gray-700 mt-2">4. <strong>Limitation of Liability</strong>: We are not liable for any indirect or consequential damages arising from your use of the site.</p>
        <p class="text-gray-700 mt-2">For the most current version, please contact us at support@stockmarketnews.com.</p>
    </div>
    <div id="privacyContent" class="terms-privacy-content">
        <span class="close-btn" onclick="closePrivacy()">×</span>
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Privacy Policy</h2>
        <p class="text-gray-700">At Stock Market News, we are committed to protecting your privacy. This policy outlines how we collect, use, and safeguard your information.</p>
        <p class="text-gray-700 mt-4">1. <strong>Information Collection</strong>: We collect personal information such as your name and email when you sign up or submit articles.</p>
        <p class="text-gray-700 mt-2">2. <strong>Use of Information</strong>: Your data is used to personalize your experience and improve our services.</p>
        <p class="text-gray-700 mt-2">3. <strong>Data Security</strong>: We implement reasonable measures to protect your information from unauthorized access.</p>
        <p class="text-gray-700 mt-2">4. <strong>Third-Party Sharing</strong>: We do not sell or share your personal data with third parties except as required by law.</p>
        <p class="text-gray-700 mt-2">For questions, contact us at privacy@stockmarketnews.com.</p>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-10 sm:px-6 lg:px-8">
        <section id="news">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-gray-900">Latest News</h2>
                <div>
                    <label for="categoryFilter" class="text-sm font-medium text-gray-700 mr-2">Filter by Category:</label>
                    <select id="categoryFilter" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600">
                        <option value="All">All</option>
                        <option value="Tech">Tech</option>
                        <option value="Oil & Energy">Oil & Energy</option>
                        <option value="Markets">Markets</option>
                        <option value="Trending">Trending</option>
                    </select>
                </div>
            </div>
            <div id="newsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- News Article 1 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Markets">
                    <img src="https://via.placeholder.com/400x200?text=Market+Chart" alt="Market Chart" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Dow Surges After Strong Jobs Report</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • Reuters</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-1" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(1)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 2 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Tech">
                    <img src="https://via.placeholder.com/400x200?text=Tech+Stocks" alt="Tech Stocks" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Tech Stocks Rally Amid AI Optimism</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • Bloomberg</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-2" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(2)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 3 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Oil & Energy">
                    <img src="https://via.placeholder.com/400x200?text=Energy+Sector" alt="Energy Sector" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Oil Prices Dip as OPEC+ Meets</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • CNBC</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-3" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(3)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 4 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Markets">
                    <img src="https://via.placeholder.com/400x200?text=Gold+Prices" alt="Gold Prices" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Gold Hits Record High Above $3,500</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • Seeking Alpha</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-4" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(4)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 5 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Tech">
                    <img src="https://via.placeholder.com/400x200?text=Tesla+Stock" alt="Tesla Stock" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Tesla Shares Edge Up Amid Cybertruck Revamp</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • Yahoo Finance</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-5" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(5)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 6 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Markets">
                    <img src="https://via.placeholder.com/400x200?text=Fed+Policy" alt="Fed Policy" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Fed Rate Cut Expectations Shift to July</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • CNBC</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-6" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(6)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 7 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Tech">
                    <img src="https://via.placeholder.com/400x200?text=Semiconductors" alt="Semiconductors" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Semiconductor Stocks Soar on AI Demand</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • Forbes</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-7" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(7)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 8 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Markets">
                    <img src="https://via.placeholder.com/400x200?text=Inflation+Data" alt="Inflation Data" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Inflation Cools, Boosting Market Sentiment</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • Wall Street Journal</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-8" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(8)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 9 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Markets">
                    <img src="https://via.placeholder.com/400x200?text=Bank+Earnings" alt="Bank Earnings" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Bank Earnings Beat Expectations</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • Financial Times</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-9" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(9)">❤️</button>
                        </div>
                    </div>
                </article>
                <!-- News Article 10 -->
                <article class="bg-white rounded-lg shadow-lg overflow-hidden" data-category="Markets">
                    <img src="https://via.placeholder.com/400x200?text=Global+Markets" alt="Global Markets" class="news-image" loading="lazy">
                    <div class="p-5">
                        <h2 class="text-lg font-semibold text-gray-900">Global Markets Mixed Amid Trade Talks</h2>
                        <p class="text-gray-500 text-sm mt-2">May 3, 2025 • BBC</p>
                        <div class="flex justify-between items-center mt-3">
                            <a href="https://example.com/article-10" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                            <button class="favorite-btn" onclick="toggleFavorite(10)">❤️</button>
                        </div>
                    </div>
                </article>
            </div>
        </section>

        <!-- Favorites Section -->
        <section id="favorites" class="hidden py-10">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Your Favorited Articles</h2>
            <div id="favoritesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"></div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center">
            <p>© 2025 Stock Market News. All rights reserved.</p>
            <div class="mt-4 md:mt-0 space-x-4">
                <a href="#" class="hover:text-white transition-colors" onclick="showTerms(event)">Terms of Service</a>
                <a href="#" class="hover:text-white transition-colors" onclick="showPrivacy(event)">Privacy Policy</a>
                <a href="#" class="hover:text-white transition-colors">Contact Us</a>
            </div>
        </div>
    </footer>

    <script>
        // Mock data for market prices
        const marketData = [
            { symbol: 'DOW', price: '40,589.34', change: '+1.64%' },
            { symbol: 'S&P 500', price: '5,459.10', change: '+1.11%' },
            { symbol: 'NASDAQ', price: '17,357.88', change: '+1.03%' },
            { symbol: 'TSLA', price: '$219.80', change: '+0.20%' },
            { symbol: 'AAPL', price: '$217.96', change: '+0.22%' },
            { symbol: 'NVDA', price: '$113.06', change: '+0.69%' },
            { symbol: 'AMD', price: '$139.99', change: '+1.21%' },
            { symbol: 'Gold', price: '$3,512.40', change: '+0.85%' },
            { symbol: 'Oil', price: '$77.16', change: '-1.96%' }
        ];

        // Function to update marquee content
        function updateMarquee() {
            const marqueeContent = document.querySelector('.marquee-content');
            marqueeContent.innerHTML = marketData.map(data => 
                `<span>${data.symbol}: ${data.price} (${data.change}) ${data.change.includes('+') ? '▲' : '▼'}</span>`
            ).join('<span class="mx-10"></span>');
        }

        // Initial marquee update
        updateMarquee();

        // Modal functionality
        const authModal = document.getElementById('authModal');
        const submitArticleModal = document.getElementById('submitArticleModal');
        const termsContent = document.getElementById('termsContent');
        const privacyContent = document.getElementById('privacyContent');

        function showModal() {
            authModal.style.display = 'flex';
        }

        function closeModal() {
            authModal.style.display = 'none';
        }

        function showSubmitModal() {
            submitArticleModal.style.display = 'flex';
        }

        function closeSubmitModal() {
            submitArticleModal.style.display = 'none';
        }

        function showTerms(event) {
            event.preventDefault();
            termsContent.style.display = 'block';
        }

        function closeTerms() {
            termsContent.style.display = 'none';
        }

        function showPrivacy(event) {
            event.preventDefault();
            privacyContent.style.display = 'block';
        }

        function closePrivacy() {
            privacyContent.style.display = 'none';
        }

        // Prevent modal for logged-in users
        let currentUser = JSON.parse(localStorage.getItem('user')) || null;
        const favoritesTab = document.getElementById('favoritesTab');
        const submitArticleBtn = document.getElementById('submitArticleBtn');
        const authBtn = document.getElementById('authBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const userGreeting = document.getElementById('userGreeting');

        function updateUIForUser() {
            if (currentUser) {
                favoritesTab.classList.remove('hidden');
                submitArticleBtn.classList.remove('hidden');
                authBtn.classList.add('hidden');
                logoutBtn.classList.remove('hidden');
                userGreeting.classList.remove('hidden');
                userGreeting.textContent = `Hello, ${currentUser.name}`;
            } else {
                favoritesTab.classList.add('hidden');
                submitArticleBtn.classList.add('hidden');
                authBtn.classList.remove('hidden');
                logoutBtn.classList.add('hidden');
                userGreeting.classList.add('hidden');
            }
        }

        // Show modal only if not logged in
        setTimeout(() => {
            if (!currentUser) {
                showModal();
                setInterval(() => {
                    if (!currentUser) {
                        showModal();
                    }
                }, 5 * 60 * 1000); // Every 5 minutes
            }
        }, 15 * 1000); // Initial delay of 15 seconds

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target === authModal) {
                closeModal();
            }
            if (event.target === submitArticleModal) {
                closeSubmitModal();
            }
            if (event.target === termsContent) {
                closeTerms();
            }
            if (event.target === privacyContent) {
                closePrivacy();
            }
        };

        // Authentication handling
        function handleLogin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            if (email && password) {
                currentUser = { name: email.split('@')[0], email, favorites: [] };
                localStorage.setItem('user', JSON.stringify(currentUser));
                updateUIForUser();
                closeModal();
            } else {
                alert('Please enter email and password.');
            }
        }

        function handleSignup() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            if (name && email && password) {
                currentUser = { name, email, favorites: [] };
                localStorage.setItem('user', JSON.stringify(currentUser));
                updateUIForUser();
                closeModal();
            } else {
                alert('Please fill in all fields.');
            }
        }

        function handleLogout() {
            localStorage.removeItem('user');
            currentUser = null;
            updateUIForUser();
            showNewsSection();
        }

        // Initial UI update
        updateUIForUser();

        // Category filtering
        const categoryFilter = document.getElementById('categoryFilter');
        categoryFilter.addEventListener('change', function() {
            const selectedCategory = this.value;
            const articles = document.querySelectorAll('#newsGrid article');
            articles.forEach(article => {
                const articleCategory = article.getAttribute('data-category');
                if (selectedCategory === 'All' || articleCategory === selectedCategory) {
                    article.style.display = 'block';
                } else {
                    article.style.display = 'none';
                }
            });
        });

        // Favorites handling
        let favorites = currentUser ? currentUser.favorites : [];
        const newsSection = document.getElementById('news');
        const favoritesSection = document.getElementById('favorites');
        const favoritesGrid = document.getElementById('favoritesGrid');

        function toggleFavorite(articleId) {
            if (!currentUser) {
                alert('Please log in to favorite articles.');
                showModal();
                return;
            }
            const index = favorites.indexOf(articleId);
            const button = document.querySelector(`button[onclick="toggleFavorite(${articleId})"]`);
            if (index === -1) {
                favorites.push(articleId);
                button.classList.add('favorited');
            } else {
                favorites.splice(index, 1);
                button.classList.remove('favorited');
            }
            currentUser.favorites = favorites;
            localStorage.setItem('user', JSON.stringify(currentUser));
            updateFavoritesSection();
        }

        function updateFavoritesSection() {
            favoritesGrid.innerHTML = '';
            const allArticles = document.querySelectorAll('#newsGrid article');
            favorites.forEach(id => {
                const article = Array.from(allArticles).find(art => {
                    const btn = art.querySelector('.favorite-btn');
                    return btn && btn.getAttribute('onclick') === `toggleFavorite(${id})`;
                });
                if (article) {
                    const clone = article.cloneNode(true);
                    clone.querySelector('.favorite-btn').addEventListener('click', () => toggleFavorite(id));
                    favoritesGrid.appendChild(clone);
                }
            });
        }

        // Show favorites section when tab is clicked
        favoritesTab.addEventListener('click', () => {
            newsSection.classList.add('hidden');
            favoritesSection.classList.remove('hidden');
            updateFavoritesSection();
        });

        // Show news section when news tab is clicked
        document.querySelector('a[href="#news"]').addEventListener('click', () => {
            showNewsSection();
        });

        function showNewsSection() {
            newsSection.classList.remove('hidden');
            favoritesSection.classList.add('hidden');
        }

        // Article submission
        submitArticleBtn.addEventListener('click', showSubmitModal);

        const articleForm = document.getElementById('articleForm');
        articleForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const title = document.getElementById('articleTitle').value;
            const content = document.getElementById('articleContent').value;
            const category = document.getElementById('articleCategory').value;
            const imageFile = document.getElementById('articleImage').files[0];
            const imageUrl = imageFile ? URL.createObjectURL(imageFile) : 'https://via.placeholder.com/400x200?text=User+Article';

            const newArticleId = document.querySelectorAll('#newsGrid article').length + 1;
            const article = document.createElement('article');
            article.className = 'bg-white rounded-lg shadow-lg overflow-hidden';
            article.setAttribute('data-category', category);
            article.innerHTML = `
                <img src="${imageUrl}" alt="User Article" class="news-image" loading="lazy">
                <div class="p-5">
                    <h2 class="text-lg font-semibold text-gray-900">${title}</h2>
                    <p class="text-gray-500 text-sm mt-2">${new Date().toLocaleDateString()} • ${currentUser.name}</p>
                    <div class="flex justify-between items-center mt-3">
                        <a href="https://example.com/article-${newArticleId}" target="_blank" class="text-blue-700 hover:underline">Read More</a>
                        <button class="favorite-btn" onclick="toggleFavorite(${newArticleId})">❤️</button>
                    </div>
                </div>
            `;
            document.getElementById('newsGrid').prepend(article);
            closeSubmitModal();
            articleForm.reset();
        });

        // Image loading fallback
        document.querySelectorAll('img').forEach(img => {
            img.onerror = function() {
                this.src = 'https://via.placeholder.com/400x200?text=Image+Not+Found';
                this.alt = 'Image Not Found';
            };
        });

        // Initialize favorited state
        favorites.forEach(id => {
            const button = document.querySelector(`button[onclick="toggleFavorite(${id})"]`);
            if (button) button.classList.add('favorited');
        });
    </script>
</body>
</html>